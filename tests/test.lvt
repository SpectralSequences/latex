\input{regression-test.tex}
\documentclass{article}
\usepackage{expl3}
\usepackage{spectralsequences}
\begin{document}
\def\EXPECTTHROWS#1{\TYPE{EXPECT_THROWS::#1::}}
\def\ENDEXPECTTHROWS{\TYPE{END_EXPECT_THROWS}}

\ExplSyntaxOn
\msg_redirect_class:nn { info } { none }
\ExplSyntaxOff
\START
\makeatletter
\sseq@DeclareDocumentCommandAs\A\Blargh{r()}{
    \typeout{#1}
}
\TEST{declare-document-command-as}{
    \A(1,2)
}

\TEST{declare-document-command-as-error}{
    \EXPECTTHROWS{command '\string\Blargh}
    \A
    \ENDEXPECTTHROWS
}

\sseq@DeclareDocumentCommandAs\A\B{U(r()}{
    \typeout{#1, #2}
}
\TEST{declare-document-command-as-U}{
    \sseq@install@xparse@Uarggrabber
    \A1234(77)
}

\TEST{get-num-range}{
    \sseq@getnumrange\temp{1--2}
    \TYPE{\temp--\tempmax}
    \sseq@getnumrange\temp{1--\infty}
    \TYPE{\temp--\tempmax}
    \sseq@getnumrange\temp{6}
    \TYPE{\temp--\tempmax}
    \sseq@getnumrange\temp{\infty}
    \TYPE{\temp--\tempmax}
}

\TEST{pgfmathparse-protect}{
    \def\x{\protect\y}
    \def\y{14}
    \pgfmathparse{\y+1}
    \TYPE{\pgfmathresult}
    \sseq@pgfmathparse{\y+2}
    \TYPE{\pgfmathresult}
    \sseq@pgfmathparse{\x+3}
    \TYPE{\pgfmathresult}
}

\END